simulation:
  name: follow_path
  timestep: 0.03
  end_time: 300.0
  graphical: true
  save_csv: true
  save_output: results/
  show_graphs: false
  save_graphs: true


robot:
  name: bluerov2

  mission:
    waypoints:
      - [0.000, 0.000, 1.000, 0.000, 0.000, -3.142]
      - [0.016, 0.256, 0.290, 0.000, 0.000, -3.013]
      - [0.066, 0.507, 1.597, 0.000, 0.000, -2.885]
      - [0.148, 0.751, 2.920, 0.000, 0.000, -2.757]
      - [0.263, 0.981, 4.258, 0.000, 0.000, -2.629]
      - [0.411, 1.196, 5.610, 0.000, 0.000, -2.500]
      - [0.592, 1.391, 6.975, 0.000, 0.000, -2.372]
      - [0.806, 1.564, 8.352, 0.000, 0.000, -2.244]
      - [1.052, 1.710, 9.740, 0.000, 0.000, -2.116]
      - [1.332, 1.829, 11.136, 0.000, 0.000, -1.988]
      - [1.644, 1.917, 12.538, 0.000, 0.000, -1.859]
      - [1.990, 1.974, 13.946, 0.000, 0.000, -1.731]
      - [2.368, 1.999, 15.355, 0.000, 0.000, -1.603]
      - [2.779, 1.991, 16.766, 0.000, 0.000, -1.475]
      - [3.223, 1.950, 18.174, 0.000, 0.000, -1.346]
      - [3.700, 1.877, 19.580, 0.000, 0.000, -1.218]
      - [4.209, 1.773, 20.979, 0.000, 0.000, -1.090]
      - [4.752, 1.640, 22.371, 0.000, 0.000, -0.962]
      - [5.327, 1.481, 23.753, 0.000, 0.000, -0.833]
      - [5.936, 1.296, 25.125, 0.000, 0.000, -0.705]
      - [6.577, 1.091, 26.484, 0.000, 0.000, -0.577]
      - [7.251, 0.868, 27.829, 0.000, 0.000, -0.449]
      - [7.958, 0.630, 29.159, 0.000, 0.000, -0.321]
      - [8.698, 0.382, 30.474, 0.000, 0.000, -0.192]
      - [9.471, 0.128, 31.773, 0.000, 0.000, -0.064]
      - [10.277, -0.128, 33.055, 0.000, 0.000, 0.064]
      - [11.115, -0.382, 34.321, 0.000, 0.000, 0.192]
      - [11.987, -0.630, 35.571, 0.000, 0.000, 0.321]
      - [12.891, -0.868, 36.805, 0.000, 0.000, 0.449]
      - [13.828, -1.091, 38.024, 0.000, 0.000, 0.577]
      - [14.798, -1.296, 39.230, 0.000, 0.000, 0.705]
      - [15.801, -1.481, 40.423, 0.000, 0.000, 0.833]
      - [16.837, -1.640, 41.605, 0.000, 0.000, 0.962]
      - [17.906, -1.773, 42.778, 0.000, 0.000, 1.090]
      - [19.008, -1.877, 43.943, 0.000, 0.000, 1.218]
      - [20.142, -1.950, 45.102, 0.000, 0.000, 1.346]
      - [21.309, -1.991, 46.258, 0.000, 0.000, 1.475]
      - [22.510, -1.999, 47.412, 0.000, 0.000, 1.603]
      - [23.743, -1.974, 48.567, 0.000, 0.000, 1.731]
      - [25.009, -1.917, 49.724, 0.000, 0.000, 1.859]
      - [26.308, -1.829, 50.887, 0.000, 0.000, 1.988]
      - [27.640, -1.710, 52.055, 0.000, 0.000, 2.116]
      - [29.005, -1.564, 53.232, 0.000, 0.000, 2.244]
      - [30.402, -1.391, 54.420, 0.000, 0.000, 2.372]
      - [31.833, -1.196, 55.619, 0.000, 0.000, 2.500]
      - [33.296, -0.981, 56.831, 0.000, 0.000, 2.629]
      - [34.792, -0.751, 58.058, 0.000, 0.000, 2.757]
      - [36.321, -0.507, 59.300, 0.000, 0.000, 2.885]
      - [37.883, -0.256, 60.558, 0.000, 0.000, 3.013]
      - [39.478, -0.000, 61.832, 0.000, 0.000, 3.142]

  initial_conditions:
    eta: [1.000, 0.000, 0.000, 0.000, 0.000, -3.142]
    nu: [0, 0, 0, 0, 0, 0]

  mass_properties:
    m: 11.5
    rg: [0.0, 0.0, 0.02]
    I0:
      - [0.16, 0.00, 0.00]
      - [0.00, 0.16, 0.00]
      - [0.00, 0.00, 0.16]
    Ma:
      - [5.5, 0, 0, 0, 0, 0]
      - [0, 12.7, 0, 0, 0, 0]
      - [0, 0, 14.57, 0, 0, 0]
      - [0, 0, 0, 0.12, 0, 0]
      - [0, 0, 0, 0, 0.12, 0]
      - [0, 0, 0, 0, 0, 0.12]

  damping:
    Dl:
      - [4.03, 0, 0, 0, 0, 0]
      - [0, 6.22, 0, 0, 0, 0]
      - [0, 0, 5.18, 0, 0, 0]
      - [0, 0, 0, 0.07, 0, 0]
      - [0, 0, 0, 0, 0.07, 0]
      - [0, 0, 0, 0, 0, 0.07]
    Dq:
      - [18.18, 0, 0, 0, 0, 0]
      - [0, 21.66, 0, 0, 0, 0]
      - [0, 0, 36.99, 0, 0, 0]
      - [0, 0, 0, 1.55, 0, 0]
      - [0, 0, 0, 0, 1.55, 0]
      - [0, 0, 0, 0, 0, 1.55]

  thrusters:
    n_thrusters: 8
      # -----------------------------------------------------
      #  HORIZONTAL THRUSTERS (VECTOR 30°)
      #  Positions approximate official CAD center-of-thrust
      # -----------------------------------------------------
    thruster0:
      name: HFR  # Horizontal Front Right
      position: [ 0.140,  0.104, 0.066, 0.0, 0.0,  -0.523599 ]   # +45°
      limits: [-35, 45]
      wn: 8
      zeta: 0.9

    thruster1:
      name: HFL  # Horizontal Front Left
      position: [ 0.140, -0.104, 0.066, 0.0, 0.0, 0.523599 ]   # -45°
      limits: [-35, 45]
      wn: 8
      zeta: 0.9

    thruster2:
      name: HRR  # Horizontal Rear Right
      position: [ -0.140,  0.104, 0.066, 0.0, 0.0,  -2.617994 ]  # +135°
      limits: [-35, 45]
      wn: 8
      zeta: 0.9

    thruster3:
      name: HRL  # Horizontal Rear Left
      position: [ -0.140, -0.104, 0.066, 0.0, 0.0, 2.617994 ]  # -135°
      limits: [-35, 45]
      wn: 8
      zeta: 0.9

    # -----------------------------------------------------
    #  VERTICAL THRUSTERS (HEAVY UPGRADE: 4 VERTICAL MOTORS)
    #  Positioned at the 4 corners of the frame
    #  Pitch = -90° because using XYZ Euler → thrust DOWN
    # -----------------------------------------------------
    thruster4:
      name: VFR  # Vertical Front Right
      position: [ 0.120,  0.218, 0.003,  0.0, -1.5708, 0.0 ]   # down
      limits: [-35, 45]
      wn: 8
      zeta: 0.9

    thruster5:
      name: VFL  # Vertical Front Left
      position: [ 0.120, -0.218, 0.003,  0.0, -1.5708, 0.0 ]
      limits: [-35, 45]
      wn: 8
      zeta: 0.9

    thruster6:
      name: VRR  # Vertical Rear Right
      position: [ -0.120,  0.218, 0.003, 0.0, -1.5708, 0.0 ]
      limits: [-35, 45]
      wn: 8
      zeta: 0.9

    thruster7:
      name: VRL  # Vertical Rear Left
      position: [ -0.120, -0.218, 0.003, 0.0, -1.5708, 0.0 ]
      limits: [-35, 45]
      wn: 8
      zeta: 0.9

  controller:
    type: SMC

    eta_tol: [0.1, 0.1, 0.1, 0.1, 0.1, 0.1]
    nu_tol: [10, 10, 10, 10, 10, 10]
    
    smc_params:
      k_smc: [15.0, 15.0, 10.0, 5.0, 5.0, 10.0]
      lambda_smc: [1.0, 1.0, 2.5, 2.0, 2.0, 2.0]
      phi: [0.8, 0.8, 0.8, 0.8, 0.8, 0.8]


# Environment parameters
environment:
  # Open water parameters
  properties:
    gravity: [0.0, 0.0, -9.81]  # Gravity vector in m/s^2
    water_density: 1025.0        # Density of water in kg/m^3
    water_viscosity: 1.0e-3      # Viscosity of water in Pa.s

  current:
    type: normal  # Options: normal, jet, constant, time_series, depth_profile

    # Type: normal (randomized per axis)
    normal:
      speed: [0.1, -0.1, 0.0]
      std: [0.05, 0.02, 0.01]

    # Type: jet (fully fixed 6D vector)
    jet:
      vector: [0.2, 0.0, 0.0, 0, 0, 0]

    # Type: constant (3D only, angular assumed zero)
    constant:
      vector: [0.0, 0.0, 0.0]

    # Type: time_series (indexed array of 6D vectors)
    time_series:
      - [0.1, 0.0, 0.0, 0, 0, 0]
      - [0.15, 0.05, 0.0, 0, 0, 0]
      - [0.2, 0.0, 0.0, 0, 0, 0]

    # Type: depth_profile (velocity as a function of depth)
    depth_profile:
      - depth: 0
        vector: [0.3, 0.0, 0.0]
      - depth: 10
        vector: [0.1, 0.0, 0.0]
      - depth: 20
        vector: [0.0, 0.0, 0.0]
